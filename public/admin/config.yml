# ============================================================
# Decap CMS Configuration — Website Factory
# ============================================================
# This file is generated per-site by the n8n pipeline.
# The REPO_OWNER and REPO_SLUG placeholders are replaced during
# the site generation process.
#
# Docs: https://decapcms.org/docs/configuration-options/
# ============================================================

backend:
  name: github
  repo: "REPO_OWNER/REPO_SLUG"
  branch: main
  commit_messages:
    create: 'content: create {{collection}} "{{slug}}"'
    update: 'content: update {{collection}} "{{slug}}"'
    delete: 'content: delete {{collection}} "{{slug}}"'
    uploadMedia: 'media: upload "{{path}}"'
    deleteMedia: 'media: delete "{{path}}"'

# Site URLs — replaced per-site
site_url: "https://REPO_OWNER.github.io/REPO_SLUG"
display_url: "https://REPO_OWNER.github.io/REPO_SLUG"

# Media
media_folder: "public/images"
public_folder: "/images"

# ============================================================
# Collections
# ============================================================
collections:

  # --------------------------------------------------------
  # Site Settings — single file (content/site.json)
  # --------------------------------------------------------
  - name: "settings"
    label: "Site Settings"
    files:
      - name: "site"
        label: "Site Configuration"
        file: "content/site.json"
        fields:

          # -- Basic Info --
          - { label: "Business Name", name: "business_name", widget: "string" }
          - { label: "Tagline / Headline", name: "headline", widget: "string" }
          - { label: "Phone", name: "phone", widget: "string", required: false }
          - { label: "Email", name: "email", widget: "string", required: false }
          - { label: "Address", name: "address", widget: "text", required: false }
          - { label: "Google Maps URL", name: "google_maps_url", widget: "string", required: false }
          - { label: "Primary Color", name: "primary_color", widget: "color", default: "#2563EB" }

          # -- About Section --
          - label: "About"
            name: "about"
            widget: "object"
            collapsed: true
            fields:
              - { label: "Title", name: "title", widget: "string", default: "About Us" }
              - { label: "Body", name: "body", widget: "markdown" }

          # -- Services --
          - label: "Services"
            name: "services"
            widget: "list"
            collapsed: true
            label_singular: "Service"
            fields:
              - { label: "Title", name: "title", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }
              - { label: "Icon (emoji or name)", name: "icon", widget: "string", required: false }

          # -- FAQ --
          - label: "FAQ"
            name: "faq"
            widget: "list"
            collapsed: true
            label_singular: "Question"
            fields:
              - { label: "Question", name: "question", widget: "string" }
              - { label: "Answer", name: "answer", widget: "markdown" }

          # -- Testimonials --
          - label: "Testimonials"
            name: "testimonials"
            widget: "list"
            collapsed: true
            label_singular: "Testimonial"
            fields:
              - { label: "Author", name: "author", widget: "string" }
              - { label: "Quote", name: "quote", widget: "text" }
              - { label: "Rating (1-5)", name: "rating", widget: "number", value_type: "int", min: 1, max: 5, default: 5 }

          # -- Hours --
          - label: "Business Hours"
            name: "hours"
            widget: "object"
            collapsed: true
            fields:
              - { label: "Monday", name: "monday", widget: "string", required: false }
              - { label: "Tuesday", name: "tuesday", widget: "string", required: false }
              - { label: "Wednesday", name: "wednesday", widget: "string", required: false }
              - { label: "Thursday", name: "thursday", widget: "string", required: false }
              - { label: "Friday", name: "friday", widget: "string", required: false }
              - { label: "Saturday", name: "saturday", widget: "string", required: false }
              - { label: "Sunday", name: "sunday", widget: "string", required: false }

          # -- CTA --
          - label: "Call to Action"
            name: "cta"
            widget: "object"
            collapsed: true
            fields:
              - { label: "Primary Button Text", name: "primary_text", widget: "string", default: "Get Started" }
              - { label: "Primary Button URL", name: "primary_url", widget: "string", default: "#contact" }
              - { label: "Secondary Button Text", name: "secondary_text", widget: "string", required: false }
              - { label: "Secondary Button URL", name: "secondary_url", widget: "string", required: false }

          # -- SEO --
          - label: "SEO"
            name: "seo"
            widget: "object"
            collapsed: true
            fields:
              - { label: "Page Title", name: "title", widget: "string" }
              - { label: "Meta Description", name: "description", widget: "text" }
              - { label: "Keywords (comma-separated)", name: "keywords", widget: "string", required: false }
